# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π SEO —Å–∏—Å—Ç–µ–º–µ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü smiles

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ SEO –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü `/smiles/<slug>`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–æ–π schema.org —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é fallback –Ω–∞ hardcoded –∑–Ω–∞—á–µ–Ω–∏—è.

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Review** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –∞–¥–º–∏–Ω–∫–∏ –∏–ª–∏ fallback
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ (BreadcrumbList)** - —Å SEO –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î
3. **–ê–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è SEO –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ 
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback** –Ω–∞ hardcoded –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

- –ï—Å–ª–∏ –ø–æ–ª—è –≤ –∞–¥–º–∏–Ω–∫–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ `seo_generals` —Ç–∞–±–ª–∏—Ü—ã
- –ï—Å–ª–∏ –ø–æ–ª—è –ø—É—Å—Ç—ã–µ ‚Üí –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ–∫—É—â–∏–µ hardcoded –∑–Ω–∞—á–µ–Ω–∏—è

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î

```bash
# –ó–∞–ø—É—Å–∫ seeds –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ 'smiles' –≤ seo_generals
bundle exec rake db:seed
```

–ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç:
```bash
mysql -u username -p database_name < db/create_smiles_seo_general.sql
```

### 2. –ê–¥–º–∏–Ω—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω–∫—É: `/admin/seo/general`

–ù–∞–π–¥–∏—Ç–µ –∑–∞–ø–∏—Å—å —Å `name = 'smiles'` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–ª—è:

#### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ SEO –ø–æ–ª—è:
- **Title** - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **Description** - –æ–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –º–µ—Ç–∞-—Ç–µ–≥–æ–≤
- **Keywords** - –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- **OG Title, OG Description** - –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- **Twitter Title, Twitter Description** - –¥–ª—è Twitter

#### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏:
- **H1** - –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–º—è –∞–≤—Ç–æ—Ä–∞ –æ—Ç–∑—ã–≤–∞ –≤ Review schema
- **H2** - —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞ (reviewBody) –≤ Review schema  
- **Keywords** - –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è breadcrumb title

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ —Ö–µ–ª–ø–µ—Ä —Ñ—É–Ω–∫—Ü–∏–∏:

```ruby
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Review –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∏ —Å SEO fallback
generate_smile_review_schema(@post, seo_data)

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è BreadcrumbList —Å SEO –¥–∞–Ω–Ω—ã–º–∏
generate_smile_breadcrumb_schema(@post, seo_data)
```

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

- `app/helpers/seo_helper.rb` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- `app/views/smiles/show.erb` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞
- `admin/views/seo/_seo_fields.haml` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ—è—Å–Ω–µ–Ω–∏—è
- `db/seeds.rb` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ SEO –∑–∞–ø–∏—Å–∏

### Fallback –ª–æ–≥–∏–∫–∞:

```ruby
seo_data = {
  review_body: @general_seo_data[:h2] || "–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ (5‚Äì15 —Å–ª–æ–≤)!",
  author_name: @general_seo_data[:h1] || smile.customer_name,
  breadcrumb_title: @general_seo_data[:keywords] || "–§–æ—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∏"
}
```

## üé™ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ

### –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è SEO:

1. **H2 (–¢–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞):** 
   ```
   "–ö–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–ª—Å—è –¥–æ–≤–æ–ª–µ–Ω –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —Å–≤–µ–∂–µ—Å—Ç—å—é –±—É–∫–µ—Ç–∞"
   ```

2. **H1 (–ò–º—è –∞–≤—Ç–æ—Ä–∞):**
   ```
   "–î–æ–≤–æ–ª—å–Ω—ã–π –ø–æ–∫—É–ø–∞—Ç–µ–ª—å"
   ```

3. **Description:**
   ```
   "–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ –Ω–∞—à–∏—Ö –±—É–∫–µ—Ç–æ–≤ –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∞–≤–∫–∏ - %city%. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ü–≤–µ—Ç—ã —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π —Å–≤–µ–∂–µ—Å—Ç–∏."
   ```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã:
- `%city%` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
- `%morph_datel%` - –≥–æ—Ä–æ–¥ –≤ –¥–∞—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ  
- `%morph_predl%` - –≥–æ—Ä–æ–¥ –≤ –ø—Ä–µ–¥–ª–æ–∂–Ω–æ–º –ø–∞–¥–µ–∂–µ
- `%morph_rodit%` - –≥–æ—Ä–æ–¥ –≤ —Ä–æ–¥–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ
- `%header%` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
ruby test_dynamic_smiles_seo.rb
```

–¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ seo_generals
- –†–∞–±–æ—Ç—É —Ñ—É–Ω–∫—Ü–∏–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SEO –¥–∞–Ω–Ω—ã—Ö  
- –ü–∞—Ä—Å–∏–Ω–≥ json_order –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–µ

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/smiles/<slug>`:

1. **SEO —Ç–µ–≥–∏** –±–µ—Ä—É—Ç—Å—è –∏–∑ –∞–¥–º–∏–Ω–∫–∏ —Å fallback –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
2. **–ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Review** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç –æ—Ç–∑—ã–≤–∞
3. **–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏** –º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
4. **–ú–µ—Ç–∞-—Ç–µ–≥–∏** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≥–æ—Ä–æ–¥–∞/—Ç–æ–≤–∞—Ä–∞

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–∞ - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ç–∞–±–ª–∏—Ü–∞ `seo_generals`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å - —Å—Ç–∞—Ä–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ fallback
- –í—Å–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –æ—Ç –æ—à–∏–±–æ–∫ (graceful degradation)
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–º–µ—Ç–∫–∞

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π (hardcoded):
```html
<script type="application/ld+json">
{
  "reviewBody": "–ö—Ä–∞—Ç–∫–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ (5‚Äì15 —Å–ª–æ–≤)!"
}
</script>
```

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Å –∞–¥–º–∏–Ω—Å–∫–∏–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏):
```html
<script type="application/ld+json">
{
  "reviewBody": "–ö–ª–∏–µ–Ω—Ç –æ—Å—Ç–∞–ª—Å—è –¥–æ–≤–æ–ª–µ–Ω –∫–∞—á–µ—Å—Ç–≤–æ–º –∏ —Å–≤–µ–∂–µ—Å—Ç—å—é –±—É–∫–µ—Ç–∞ –≤ –ú—É—Ä–º–∞–Ω—Å–∫–µ"
}
</script>
```

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–µ–Ω–µ–¥–∂–µ—Ä—ã –º–æ–≥—É—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å SEO –∏ –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫—É —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∫–∏, –Ω–µ —Ç—Ä–æ–≥–∞—è –∫–æ–¥.
