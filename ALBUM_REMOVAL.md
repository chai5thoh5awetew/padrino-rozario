# Удаление неиспользуемой функциональности альбомов

## Выполненные изменения

### Удалённые файлы:
1. `app/views/album/` - директория с представлениями альбомов
   - `index.haml` - список альбомов
   - `show.haml` - просмотр альбома
2. `app/controllers/album.rb` - контроллер альбомов
3. `app/models/album.rb` - модель альбома
4. `app/models/photo.rb` - модель фотографий
5. `lib/uploader-photo.rb` - uploader для фотографий
6. `db/migrate/008_create_albums.rb` - миграция создания таблицы albums
7. `db/migrate/009_create_photos.rb` - миграция создания таблицы photos

### Изменённые файлы:
1. `app/helpers/app.rb` - удалены ссылки на `/albums` и `/photos` из админских ролей
2. `app/helpers/schema_helper.rb` - удалена функция `photo_image_schema()`
3. `spec/schema_helper_spec.rb` - удалены тесты для `photo_image_schema`
4. `test/schema_helper_test.rb` - удалены тесты для `photo_image_schema`

### Созданные файлы:
1. `db/migrate/090_drop_unused_album_tables.rb` - миграция для удаления таблиц
   **ВНИМАНИЕ**: Миграция создана, но НЕ ЗАПУСКАЛАСЬ в соответствии с ограничением на изменение структуры БД

## Обоснование удаления

Функциональность альбомов:
- Полностью реализована (модели, контроллеры, представления)
- НЕ используется в публичной части сайта
- НЕ имеет ссылок в навигации
- Доступна только через прямые URL (`/album`, `/album/:id`)
- Не интегрирована в пользовательский интерфейс
- Является "мёртвым кодом"

## Влияние на систему

- ✅ **Безопасно**: Функциональность не использовалась
- ✅ **Нет зависимостей**: Другие части системы не ссылаются на альбомы
- ⚠️ **База данных**: Таблицы `albums` и `photos` остаются в БД (миграция не запущена)
- ✅ **Админка**: Ссылки удалены из админских ролей

## Дальнейшие действия

1. **Опционально**: Запустить миграцию `090_drop_unused_album_tables.rb` для очистки БД
2. **Проверить**: Что в production среде действительно отсутствуют данные в таблицах albums/photos
3. **Мониторить**: Логи на предмет возможных ошибок после деплоя

## Откат изменений

Для отката изменений можно:
1. Восстановить файлы из git истории
2. Использовать `down` метод миграции 090 для восстановления таблиц
