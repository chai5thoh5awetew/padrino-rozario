# UI тесты для Rozario Flowers

## Обзор

Эта папка содержит UI тесты для компонентов проекта, которые можно запускать на любой машине с браузером.

## Файлы

### `star_rating_ui_test.html`
Полноценный тест системы рейтинга звёздочек:
- ✅ Автоматическое тестирование всех значений рейтинга
- ✅ Тест половинных звёзд (0.5, 1.5, 2.5, 3.5, 4.5)
- ✅ Тест полных звёзд (1, 2, 3, 4, 5)
- ✅ Тест hover эффектов
- ✅ Логирование результатов тестов
- ✅ Ручное тестирование через интерфейс

## Как запускать

### Локально
1. Открыть `star_rating_ui_test.html` в браузере
2. Нажать кнопки для автотестов
3. Либо выполнить ручное тестирование

### Через Sketch browser tools
```bash
# Навигация к файлу
browser_navigate("file:///app/test/star_rating_ui_test.html")

# Автоматический тест половинных звёзд
browser_eval("testHalfStars()")

# Скриншот результата
browser_take_screenshot()

# Полный тест
browser_eval("testAllRatings()")

# Логи
browser_recent_console_logs()
```

### Через HTTP сервер
```bash
# Запустить простой HTTP сервер в папке test/
cd /app/test
python3 -m http.server 8080

# Открыть в браузере:
# http://localhost:8080/star_rating_ui_test.html
```

## Ожидаемые результаты

### Половинные звёзды
- Клик по левой стороне звезды должен выбрать 0.5, 1.5, 2.5, 3.5 или 4.5
- Одна половинка звезды должна быть золотой

### Полные звёзды  
- Клик по правой стороне звезды должен выбрать 1, 2, 3, 4 или 5
- Вся звезда должна быть золотой

### Hover эффекты
- При наведении мыши должны подсвечиваться звёзды
- После ухода мыши должно возвращаться к выбранному состоянию

## Отладка

### Открыть консоль браузера (F12)
Все события и результаты тестов логируются в консоль.

### Ручная отладка
```javascript
// Проверить состояние компонента
console.log('Rating containers:', document.querySelectorAll('.star-container').length);
console.log('Current rating:', document.querySelector('input[name="rating"]:checked')?.value);

// Проверить цвета звёзд
document.querySelectorAll('.star-container label').forEach((label, i) => {
    console.log(`Star ${i+1}:`, getComputedStyle(label).color);
});
```

## История изменений

**2024-10-10**: Создан полноценный тест для компонента рейтинга звёздочек с автоматическим и ручным тестированием.

## См. также

- `../UI_TESTING_METHODOLOGY.md` - Полная методология UI тестирования
- `../app/views/partials/_snd-rating.erb` - Основной компонент рейтинга